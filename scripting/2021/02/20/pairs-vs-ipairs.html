<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <meta content="IE=edge" http-equiv="X-UA-Compatible">
        <meta content="width=device-width,maximum-scale=2" name="viewport">

        <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.0/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/default.min.css" rel="stylesheet">

        <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.0/js/bootstrap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>

        <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/style.css">

        <script src="/assets/scripts/highlight-offsite-links.js"></script>

        <script>
            hljs.highlightAll();
            hljs.initLineNumbersOnLoad();
        </script>

        
            <title>Pairs vs ipairs | Roblox Development Assistance - Resources</title>
        
        <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Pairs vs IPairs" />
<meta name="author" content="Pog Chonk" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="pairs internally uses next (in Base Lua, in Luau they use a custom internal iterator). pairs works on array’s and dictionary’s since it doesn’t have a determined order." />
<meta property="og:description" content="pairs internally uses next (in Base Lua, in Luau they use a custom internal iterator). pairs works on array’s and dictionary’s since it doesn’t have a determined order." />
<meta property="og:site_name" content="Roblox Development Assistance - Resources" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-02-20T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Pairs vs IPairs" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Pog Chonk"},"dateModified":"2021-02-20T00:00:00+00:00","datePublished":"2021-02-20T00:00:00+00:00","description":"pairs internally uses next (in Base Lua, in Luau they use a custom internal iterator). pairs works on array’s and dictionary’s since it doesn’t have a determined order.","headline":"Pairs vs IPairs","mainEntityOfPage":{"@type":"WebPage","@id":"/scripting/2021/02/20/pairs-vs-ipairs.html"},"url":"/scripting/2021/02/20/pairs-vs-ipairs.html"}</script>
<!-- End Jekyll SEO tag -->

    </head>

    <body class="bg-dark">
        <header class="bg-dark">
            <div class="container pt-5 pb-5">
                <h1 class="text-white">Roblox Development Assistance - Resources</h1>
                <h2 class="text-white fw-light fs-4">
                    <a href="https://discord.com/invite/pHhuTHUPbm" target="_blank" class="text-decoration-none">Join our Discord!</a>
                </h2>
            </div>
        </header>
        <main class="pt-5 pb-5 bg-light">
            <div class="container">
                <h2>Pairs vs IPairs</h2>
<h6><a href="/" class="text-decoration-none">< Back to overview</a></h6>
<hr />
<p><code>pairs</code> internally uses <code>next</code> (in Base Lua, in Luau they use a custom internal iterator).<br />
<code>pairs</code> works on <code>array</code>’s and <code>dictionary</code>’s since it doesn’t have a determined order.</p>

<p><code>ipairs</code> numerically indices the table (<code>1, 2, 3, ..., n</code>: where <code>n</code> is the length of the table), which is why it only works on tables with numeric indices (or array’s).<br />
<code>ipairs</code> <strong>STOPS</strong> on <code>nil</code> values.</p>

<p>The iterator for <code>pairs</code> looks like.. (in Vanilla Lua, we don’t know about Luau because they haven’t released their internal iterator)</p>
<pre><code class="language-lua">function pairs(t)
    return next, t, nil --// `nil` is generally avoided since it increases the performance of the loop
end
</code></pre>

<p>The iterator for <code>ipairs</code> looks like..</p>
<pre><code class="language-lua">function iter(a, i)
    i = i + 1
    local v = a[i]
    if v ~= nil then
        return i, v
    end
end
    
function ipairs(a)
    return iter, a, 0
end
</code></pre>

<p>Fun Fact: If you manually set the array-type indices, Lua will think of it as a dictionary instead when iterating with <code>pairs</code>. Still behaves like an array though.</p>

<pre><code class="language-lua">local array = {
  [1] = "A",
  [2] = "B"
}

print(#array) --&gt; 2

for index, value in pairs(array) do
  print(index, value)
end

--[[
2 B 
1 A

Instead of

1 A
2 B
]]--
</code></pre>


<hr />
<h6>Author: Pog Chonk</h6>
<h6>Category: Scripting</h6>
<h6>Date: 20 February 2021</h6>
<hr />
<h6><a href="/" class="text-decoration-none">< Back to overview</a></h6>
            </div>
        </main>
        <footer class="bg-dark">
            <div class="container pt-5 pb-5">
                <span class="text-light">If you wish to contribute, make a
                    <a class="link-light" href="https://github.com/PogChonk/RSA-Resources/pulls" target="_blank">Pull Request</a>
                    and Thodor12 or PogChonk will review it.</span>
            </div>
        </footer>
    </body>
</html>
